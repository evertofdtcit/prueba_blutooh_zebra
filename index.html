<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Test Impresora Zebra</title>
  <script src="BrowserPrint-3.1.250.min.js"></script>
</head>
<body>
  <h1>Prueba de impresión Zebra</h1>

  <!-- Impresión desde PC (Wi-Fi o USB) -->
  <button onclick="imprimirEtiqueta()">Imprimir desde PC</button>

  <br><br>

  <!-- Impresión desde Android (Bluetooth) -->
<a id="linkIntent" href="#">Imprimir con Intent</a>

  <script>

  const zplCode = "^XA^FO100,100^ADN,36,20^FDINTENT DINÁMICO^FS^XZ";
  const intentHref = crearIntentZPL(zplCode);
  document.getElementById("linkIntent").href = intentHref;
    function imprimirEtiqueta() {
      BrowserPrint.getDefaultDevice("printer", function(printer) {
        const zpl = "^XA^FO50,50^ADN,36,20^FD¡Hola desde Zebra por Wi-Fi!^FS^XZ";
        printer.send(zpl, function() {
          alert("Etiqueta enviada correctamente");
        }, function(error) {
          alert("Error al imprimir: " + error);
        });
      }, function() {
        alert("No se detectó una impresora por defecto.");
      });
    }
  </script>
</body>
</html>
